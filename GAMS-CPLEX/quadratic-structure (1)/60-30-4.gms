SETS
V        vessels                                 /v1*v60/
B        berths                                  /b1*b30/
T        times                                   /t1*t50/
CB(B)    corner berths                           /b8,b22/
CB2(B)   not assigned corner berths              /b9,b23/;
Alias(T,TO,TT1,TT2);
Alias(B,B1,B2);

PARAMETERS
P(V)     priority value of vessel v              /v1 8, v2 3, v3 9, v4 6, v5 6, v6 6, v7 6, v8 5, v9 4, v10 2, v11 6, v12 5, v13 9, v14 7, v15 5, v16 10, v17 2, v18 4, v19 6, v20 5, v21 10, v22 9, v23 7, v24 6, v25 2, v26 10, v27 6, v28 4, v29 5, v30 7, v31 8, v32 5, v33 4, v34 8, v35 5, v36 10, v37 2, v38 9, v39 5, v40 10, v41 2, v42 10, v43 2, v44 8, v45 2, v46 6, v47 9, v48 3, v49 9, v50 9, v51 5, v52 5, v53 7, v54 8, v55 8, v56 3, v57 2, v58 9, v59 8, v60 4/
PO(V)    processing time of vessel v             /v1 5, v2 9, v3 4, v4 7, v5 3, v6 10, v7 6, v8 6, v9 7, v10 3, v11 7, v12 7, v13 5, v14 7, v15 2, v16 3, v17 7, v18 7, v19 4, v20 2, v21 5, v22 2, v23 8, v24 9, v25 5, v26 10, v27 4, v28 9, v29 7, v30 5, v31 2, v32 3, v33 8, v34 4, v35 10, v36 10, v37 7, v38 5, v39 10, v40 6, v41 2, v42 5, v43 10, v44 4, v45 8, v46 2, v47 10, v48 9, v49 2, v50 6, v51 3, v52 8, v53 7, v54 5, v55 8, v56 9, v57 8, v58 6, v59 2, v60 4/
LEN(V)   length of vessel v                      /v1 2, v2 2, v3 2, v4 2, v5 1, v6 1, v7 2, v8 1, v9 1, v10 1, v11 2, v12 2, v13 2, v14 1, v15 1, v16 2, v17 1, v18 2, v19 1, v20 1, v21 2, v22 2, v23 2, v24 1, v25 2, v26 1, v27 1, v28 3, v29 1, v30 2, v31 2, v32 2, v33 1, v34 3, v35 1, v36 2, v37 1, v38 1, v39 3, v40 1, v41 3, v42 2, v43 3, v44 2, v45 3, v46 3, v47 3, v48 2, v49 1, v50 2, v51 3, v52 2, v53 3, v54 1, v55 1, v56 3, v57 1, v58 1, v59 2, v60 3/
T1(V)    expected time to arrival of vessel v    /v1 28, v2 23, v3 4, v4 6, v5 26, v6 17, v7 19, v8 12, v9 19, v10 16, v11 23, v12 29, v13 16, v14 1, v15 16, v16 6, v17 13, v18 12, v19 11, v20 28, v21 20, v22 30, v23 2, v24 1, v25 29, v26 30, v27 5, v28 30, v29 23, v30 14, v31 18, v32 2, v33 24, v34 3, v35 22, v36 2, v37 3, v38 21, v39 13, v40 30, v41 30, v42 2, v43 26, v44 22, v45 23, v46 10, v47 22, v48 20, v49 21, v50 10, v51 10, v52 13, v53 8, v54 22, v55 23, v56 29, v57 14, v58 26, v59 14, v60 30/
T2(V)    expected time to departure of vessel v  /v1 38, v2 41, v3 12, v4 20, v5 32, v6 37, v7 31, v8 24, v9 33, v10 22, v11 37, v12 43, v13 26, v14 15, v15 20, v16 12, v17 27, v18 26, v19 19, v20 32, v21 30, v22 34, v23 18, v24 19, v25 39, v26 50, v27 13, v28 48, v29 37, v30 24, v31 22, v32 8, v33 40, v34 11, v35 42, v36 22, v37 17, v38 31, v39 33, v40 42, v41 34, v42 12, v43 46, v44 30, v45 39, v46 14, v47 42, v48 38, v49 25, v50 22, v51 16, v52 29, v53 22, v54 32, v55 39, v56 47, v57 30, v58 38, v59 18, v60 38/
S(B)     available start time of berth b         /b1 3, b2 10, b3 2, b4 4, b5 7, b6 10, b7 5, b8 2, b9 5, b10 5, b11 6, b12 6, b13 4, b14 6, b15 10, b16 2, b17 8, b18 9, b19 6, b20 8, b21 10, b22 4, b23 2, b24 2, b25 4, b26 3, b27 3, b28 6, b29 10, b30 5/
E(B)     available end time of berth b           /b1 43, b2 49, b3 42, b4 40, b5 44, b6 40, b7 43, b8 49, b9 47, b10 41, b11 40, b12 43, b13 46, b14 48, b15 40, b16 50, b17 40, b18 47, b19 50, b20 42, b21 49, b22 44, b23 44, b24 40, b25 49, b26 48, b27 48, b28 48, b29 45, b30 41/;

TABLE
U(V,B)   latest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v2         41        41        41        40        41        40        41        41        41        41        40        41        41        41        40        41        40        41        41        41        41        41        41        40        41        41        41        41        41        41
v3         12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v4         20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v5         32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v6         37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37
v7         31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31
v8         24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v9         33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v10        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v11        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37
v12        43        43        42        40        43        40        43        43        43        41        40        43        43        43        40        43        40        43        43        42        43        43        43        40        43        43        43        43        43        41
v13        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v14        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v15        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v16        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v17        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v18        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v20        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v21        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v22        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34
v23        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v24        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v25        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v26        43        49        42        40        44        40        43        49        47        41        40        43        46        48        40        50        40        47        50        42        49        44        44        40        49        48        48        48        45        41
v27        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v28        43        48        42        40        44        40        43        48        47        41        40        43        46        48        40        48        40        47        48        42        48        44        44        40        48        48        48        48        45        41
v29        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37
v30        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v31        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v32        8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8
v33        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40
v34        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v35        42        42        42        40        42        40        42        42        42        41        40        42        42        42        40        42        40        42        42        42        42        42        42        40        42        42        42        42        42        41
v36        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v37        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v38        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31
v39        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v40        42        42        42        40        42        40        42        42        42        41        40        42        42        42        40        42        40        42        42        42        42        42        42        40        42        42        42        42        42        41
v41        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34
v42        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v43        43        46        42        40        44        40        43        46        46        41        40        43        46        46        40        46        40        46        46        42        46        44        44        40        46        46        46        46        45        41
v44        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v45        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v46        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v47        42        42        42        40        42        40        42        42        42        41        40        42        42        42        40        42        40        42        42        42        42        42        42        40        42        42        42        42        42        41
v48        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v49        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v50        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v51        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v52        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v53        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v54        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v55        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v56        43        47        42        40        44        40        43        47        47        41        40        43        46        47        40        47        40        47        47        42        47        44        44        40        47        47        47        47        45        41
v57        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v58        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v59        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v60        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38;

TABLE
L(V,B)   earliest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v2         23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v3         4         10        4         4         7         10        5         4         5         5         6         6         4         6         10        4         8         9         6         8         10        4         4         4         4         4         4         6         10        5
v4         6         10        6         6         7         10        6         6         6         6         6         6         6         6         10        6         8         9         6         8         10        6         6         6         6         6         6         6         10        6
v5         26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v6         17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v7         19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v8         12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v9         19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v10        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v11        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v12        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v13        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v14        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v15        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v16        6         10        6         6         7         10        6         6         6         6         6         6         6         6         10        6         8         9         6         8         10        6         6         6         6         6         6         6         10        6
v17        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v18        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v19        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v20        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v21        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v22        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v23        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v24        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v25        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v26        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v27        5         10        5         5         7         10        5         5         5         5         6         6         5         6         10        5         8         9         6         8         10        5         5         5         5         5         5         6         10        5
v28        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v29        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v30        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v31        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v32        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v33        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v34        3         10        3         4         7         10        5         3         5         5         6         6         4         6         10        3         8         9         6         8         10        4         3         3         4         3         3         6         10        5
v35        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v36        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v37        3         10        3         4         7         10        5         3         5         5         6         6         4         6         10        3         8         9         6         8         10        4         3         3         4         3         3         6         10        5
v38        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v39        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v40        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v41        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v42        3         10        2         4         7         10        5         2         5         5         6         6         4         6         10        2         8         9         6         8         10        4         2         2         4         3         3         6         10        5
v43        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v44        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v45        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v46        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v47        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v48        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v49        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v50        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v51        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v52        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v53        8         10        8         8         8         10        8         8         8         8         8         8         8         8         10        8         8         9         8         8         10        8         8         8         8         8         8         8         10        8
v54        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v55        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v56        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v57        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v58        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v59        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v60        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30;

BINARY VARIABLES
X(V,B,T);
VARIABLES
Z        objective function value;
EQUATIONS
CONST1
CONST2
CONST3
CONST4
CONST5
OBJECTIVE;

CONST1(V)..                                                                                                                                      SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), X(V,B,T))) =e= LEN(V);
CONST2(B,T) $ (ORD(T)>=S(B) AND ORD(T)<=(E(B)-1))..                                                                                              SUM( V, SUM( TO $ (ORD(TO)>=T1(V) AND ORD(TO)>=S(B) AND ORD(TO)>=(ORD(T)+1-PO(V)) AND ORD(TO)<=ORD(T) AND ORD(TO)<=(T2(V)-PO(V)) AND ORD(TO)<=(E(B)-PO(V))), X(V,B,TO))) =l= 1;
CONST3(V,T,B1,B2) $ (LEN(V)>=2 AND ORD(T)>=L(V,B1) AND ORD(T)<=(U(V,B1)-PO(V)) AND ORD(T)>=L(V,B2) AND ORD(T)<=(U(V,B2)-PO(V)))..                (X(V,B1,T) + X(V,B2,T) - 2)*999 + (ORD(B1) - ORD(B2)) =l= LEN(V) - 1;
CONST4(V,B1,B2,TT1,TT2) $ (LEN(V)>=2 AND ORD(TT1)>=L(V,B1) AND ORD(TT1)<=(U(V,B1)-PO(V)) AND ORD(TT2)>=L(V,B2) AND ORD(TT2)<=(U(V,B2)-PO(V)))..  (X(V,B1,TT1) + X(V,B2,TT2) - 2)*999 + (ORD(TT1) - ORD(TT2)) =l= 0;
CONST5(V,CB,CB2,T) $ (LEN(V)>=2 AND ORD(T)>=L(V,CB) AND ORD(T)<=(U(V,CB)-PO(V)) AND ORD(CB)=ORD(CB2))..                                          (X(V,CB,T)+X(V,CB2,T)) =l= 1;
OBJECTIVE..                                                                                                                                      SUM( V, SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), P(V)*(X(V,B,T)/LEN(V))*(ORD(T) + PO(V) - T1(V))))) =e= Z;

option optCR = 0;
MODEL                    case1  /all/;
SOLVE                    case1 using MIP minimizing Z;
DISPLAY                  X.l;

