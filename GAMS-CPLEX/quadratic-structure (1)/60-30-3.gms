SETS
V        vessels                                 /v1*v60/
B        berths                                  /b1*b30/
T        times                                   /t1*t50/
CB(B)    corner berths                           /b8,b22/
CB2(B)   not assigned corner berths              /b9,b23/;
Alias(T,TO,TT1,TT2);
Alias(B,B1,B2);

PARAMETERS
P(V)     priority value of vessel v              /v1 10, v2 3, v3 5, v4 5, v5 2, v6 6, v7 9, v8 4, v9 7, v10 4, v11 2, v12 2, v13 3, v14 9, v15 6, v16 9, v17 10, v18 8, v19 8, v20 10, v21 9, v22 6, v23 3, v24 9, v25 8, v26 8, v27 6, v28 9, v29 7, v30 5, v31 10, v32 7, v33 8, v34 3, v35 10, v36 8, v37 7, v38 9, v39 8, v40 8, v41 8, v42 2, v43 5, v44 10, v45 3, v46 3, v47 3, v48 4, v49 7, v50 8, v51 8, v52 2, v53 10, v54 6, v55 6, v56 4, v57 2, v58 8, v59 6, v60 8/
PO(V)    processing time of vessel v             /v1 10, v2 8, v3 9, v4 2, v5 10, v6 5, v7 4, v8 9, v9 7, v10 9, v11 5, v12 6, v13 4, v14 6, v15 10, v16 5, v17 10, v18 8, v19 3, v20 2, v21 10, v22 6, v23 7, v24 10, v25 2, v26 9, v27 5, v28 4, v29 4, v30 10, v31 4, v32 8, v33 7, v34 7, v35 4, v36 9, v37 8, v38 2, v39 10, v40 5, v41 3, v42 9, v43 7, v44 7, v45 2, v46 10, v47 3, v48 7, v49 7, v50 5, v51 5, v52 8, v53 8, v54 6, v55 6, v56 10, v57 9, v58 3, v59 10, v60 7/
LEN(V)   length of vessel v                      /v1 2, v2 1, v3 2, v4 1, v5 2, v6 3, v7 2, v8 1, v9 2, v10 1, v11 1, v12 1, v13 2, v14 1, v15 2, v16 1, v17 1, v18 3, v19 1, v20 1, v21 2, v22 1, v23 2, v24 1, v25 1, v26 2, v27 1, v28 2, v29 2, v30 2, v31 2, v32 1, v33 2, v34 1, v35 1, v36 3, v37 1, v38 2, v39 2, v40 3, v41 2, v42 3, v43 2, v44 2, v45 3, v46 2, v47 1, v48 2, v49 3, v50 3, v51 1, v52 1, v53 3, v54 3, v55 1, v56 1, v57 3, v58 2, v59 2, v60 3/
T1(V)    expected time to arrival of vessel v    /v1 6, v2 17, v3 26, v4 21, v5 4, v6 15, v7 25, v8 25, v9 13, v10 19, v11 28, v12 6, v13 2, v14 11, v15 2, v16 29, v17 29, v18 10, v19 20, v20 5, v21 4, v22 10, v23 14, v24 21, v25 25, v26 25, v27 19, v28 10, v29 19, v30 15, v31 13, v32 8, v33 29, v34 21, v35 21, v36 22, v37 18, v38 28, v39 4, v40 18, v41 5, v42 26, v43 25, v44 3, v45 10, v46 28, v47 8, v48 2, v49 28, v50 17, v51 13, v52 29, v53 28, v54 13, v55 16, v56 27, v57 22, v58 9, v59 30, v60 30/
T2(V)    expected time to departure of vessel v  /v1 26, v2 33, v3 44, v4 25, v5 24, v6 25, v7 33, v8 43, v9 27, v10 37, v11 38, v12 18, v13 10, v14 23, v15 22, v16 39, v17 49, v18 26, v19 26, v20 9, v21 24, v22 22, v23 28, v24 41, v25 29, v26 43, v27 29, v28 18, v29 27, v30 35, v31 21, v32 24, v33 43, v34 35, v35 29, v36 40, v37 34, v38 32, v39 24, v40 28, v41 11, v42 44, v43 39, v44 17, v45 14, v46 48, v47 14, v48 16, v49 42, v50 27, v51 23, v52 45, v53 44, v54 25, v55 28, v56 47, v57 40, v58 15, v59 50, v60 44/
S(B)     available start time of berth b         /b1 2, b2 5, b3 9, b4 5, b5 8, b6 9, b7 7, b8 7, b9 9, b10 9, b11 4, b12 2, b13 10, b14 6, b15 3, b16 7, b17 5, b18 5, b19 2, b20 9, b21 8, b22 10, b23 1, b24 2, b25 5, b26 5, b27 3, b28 9, b29 5, b30 4/
E(B)     available end time of berth b           /b1 40, b2 41, b3 46, b4 50, b5 50, b6 41, b7 42, b8 45, b9 44, b10 41, b11 48, b12 42, b13 49, b14 47, b15 44, b16 49, b17 46, b18 50, b19 42, b20 44, b21 40, b22 45, b23 50, b24 41, b25 49, b26 46, b27 41, b28 47, b29 41, b30 42/;

TABLE
U(V,B)   latest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v2         33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v3         40        41        44        44        44        41        42        44        44        41        44        42        44        44        44        44        44        44        42        44        40        44        44        41        44        44        41        44        41        42
v4         25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v5         24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v6         25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v7         33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v8         40        41        43        43        43        41        42        43        43        41        43        42        43        43        43        43        43        43        42        43        40        43        43        41        43        43        41        43        41        42
v9         27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v10        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37        37
v11        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v12        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v13        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v14        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v15        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v16        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v17        40        41        46        49        49        41        42        45        44        41        48        42        49        47        44        49        46        49        42        44        40        45        49        41        49        46        41        47        41        42
v18        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v19        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v20        9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9
v21        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v23        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v24        40        41        41        41        41        41        41        41        41        41        41        41        41        41        41        41        41        41        41        41        40        41        41        41        41        41        41        41        41        41
v25        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v26        40        41        43        43        43        41        42        43        43        41        43        42        43        43        43        43        43        43        42        43        40        43        43        41        43        43        41        43        41        42
v27        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v28        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v29        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v30        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35
v31        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v32        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v33        40        41        43        43        43        41        42        43        43        41        43        42        43        43        43        43        43        43        42        43        40        43        43        41        43        43        41        43        41        42
v34        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35
v35        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v36        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40
v37        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34
v38        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v39        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v40        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v41        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v42        40        41        44        44        44        41        42        44        44        41        44        42        44        44        44        44        44        44        42        44        40        44        44        41        44        44        41        44        41        42
v43        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v44        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v45        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v46        40        41        46        48        48        41        42        45        44        41        48        42        48        47        44        48        46        48        42        44        40        45        48        41        48        46        41        47        41        42
v47        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v48        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v49        40        41        42        42        42        41        42        42        42        41        42        42        42        42        42        42        42        42        42        42        40        42        42        41        42        42        41        42        41        42
v50        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v51        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v52        40        41        45        45        45        41        42        45        44        41        45        42        45        45        44        45        45        45        42        44        40        45        45        41        45        45        41        45        41        42
v53        40        41        44        44        44        41        42        44        44        41        44        42        44        44        44        44        44        44        42        44        40        44        44        41        44        44        41        44        41        42
v54        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v55        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v56        40        41        46        47        47        41        42        45        44        41        47        42        47        47        44        47        46        47        42        44        40        45        47        41        47        46        41        47        41        42
v57        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40
v58        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v59        40        41        46        50        50        41        42        45        44        41        48        42        49        47        44        49        46        50        42        44        40        45        50        41        49        46        41        47        41        42
v60        40        41        44        44        44        41        42        44        44        41        44        42        44        44        44        44        44        44        42        44        40        44        44        41        44        44        41        44        41        42;

TABLE
L(V,B)   earliest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         6         6         9         6         8         9         7         7         9         9         6         6         10        6         6         7         6         6         6         9         8         10        6         6         6         6         6         9         6         6
v2         17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v3         26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v4         21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v5         4         5         9         5         8         9         7         7         9         9         4         4         10        6         4         7         5         5         4         9         8         10        4         4         5         5         4         9         5         4
v6         15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v7         25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v8         25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v9         13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v10        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v11        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v12        6         6         9         6         8         9         7         7         9         9         6         6         10        6         6         7         6         6         6         9         8         10        6         6         6         6         6         9         6         6
v13        2         5         9         5         8         9         7         7         9         9         4         2         10        6         3         7         5         5         2         9         8         10        2         2         5         5         3         9         5         4
v14        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v15        2         5         9         5         8         9         7         7         9         9         4         2         10        6         3         7         5         5         2         9         8         10        2         2         5         5         3         9         5         4
v16        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v17        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v18        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v19        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v20        5         5         9         5         8         9         7         7         9         9         5         5         10        6         5         7         5         5         5         9         8         10        5         5         5         5         5         9         5         5
v21        4         5         9         5         8         9         7         7         9         9         4         4         10        6         4         7         5         5         4         9         8         10        4         4         5         5         4         9         5         4
v22        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v23        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14        14
v24        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v26        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v27        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v28        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v29        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v30        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v31        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v32        8         8         9         8         8         9         8         8         9         9         8         8         10        8         8         8         8         8         8         9         8         10        8         8         8         8         8         9         8         8
v33        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v34        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v35        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v36        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v37        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v38        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v39        4         5         9         5         8         9         7         7         9         9         4         4         10        6         4         7         5         5         4         9         8         10        4         4         5         5         4         9         5         4
v40        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v41        5         5         9         5         8         9         7         7         9         9         5         5         10        6         5         7         5         5         5         9         8         10        5         5         5         5         5         9         5         5
v42        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v43        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v44        3         5         9         5         8         9         7         7         9         9         4         3         10        6         3         7         5         5         3         9         8         10        3         3         5         5         3         9         5         4
v45        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v46        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v47        8         8         9         8         8         9         8         8         9         9         8         8         10        8         8         8         8         8         8         9         8         10        8         8         8         8         8         9         8         8
v48        2         5         9         5         8         9         7         7         9         9         4         2         10        6         3         7         5         5         2         9         8         10        2         2         5         5         3         9         5         4
v49        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v50        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v51        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v52        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v53        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v54        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v55        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v56        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v57        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v58        9         9         9         9         9         9         9         9         9         9         9         9         10        9         9         9         9         9         9         9         9         10        9         9         9         9         9         9         9         9
v59        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v60        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30;

BINARY VARIABLES
X(V,B,T);
VARIABLES
Z        objective function value;
EQUATIONS
CONST1
CONST2
CONST3
CONST4
CONST5
OBJECTIVE;

CONST1(V)..                                                                                                                                      SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), X(V,B,T))) =e= LEN(V);
CONST2(B,T) $ (ORD(T)>=S(B) AND ORD(T)<=(E(B)-1))..                                                                                              SUM( V, SUM( TO $ (ORD(TO)>=T1(V) AND ORD(TO)>=S(B) AND ORD(TO)>=(ORD(T)+1-PO(V)) AND ORD(TO)<=ORD(T) AND ORD(TO)<=(T2(V)-PO(V)) AND ORD(TO)<=(E(B)-PO(V))), X(V,B,TO))) =l= 1;
CONST3(V,T,B1,B2) $ (LEN(V)>=2 AND ORD(T)>=L(V,B1) AND ORD(T)<=(U(V,B1)-PO(V)) AND ORD(T)>=L(V,B2) AND ORD(T)<=(U(V,B2)-PO(V)))..                (X(V,B1,T) + X(V,B2,T) - 2)*999 + (ORD(B1) - ORD(B2)) =l= LEN(V) - 1;
CONST4(V,B1,B2,TT1,TT2) $ (LEN(V)>=2 AND ORD(TT1)>=L(V,B1) AND ORD(TT1)<=(U(V,B1)-PO(V)) AND ORD(TT2)>=L(V,B2) AND ORD(TT2)<=(U(V,B2)-PO(V)))..  (X(V,B1,TT1) + X(V,B2,TT2) - 2)*999 + (ORD(TT1) - ORD(TT2)) =l= 0;
CONST5(V,CB,CB2,T) $ (LEN(V)>=2 AND ORD(T)>=L(V,CB) AND ORD(T)<=(U(V,CB)-PO(V)) AND ORD(CB)=ORD(CB2))..                                          (X(V,CB,T)+X(V,CB2,T)) =l= 1;
OBJECTIVE..                                                                                                                                      SUM( V, SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), P(V)*(X(V,B,T)/LEN(V))*(ORD(T) + PO(V) - T1(V))))) =e= Z;

option optCR = 0;
MODEL                    case1  /all/;
SOLVE                    case1 using MIP minimizing Z;
DISPLAY                  X.l;

