SETS
V        vessels                                 /v1*v60/
B        berths                                  /b1*b30/
T        times                                   /t1*t50/
CB(B)    corner berths                           /b8,b22/
CB2(B)   not assigned corner berths              /b9,b23/;
Alias(T,TO,TT1,TT2);
Alias(B,B1,B2);

PARAMETERS
P(V)     priority value of vessel v              /v1 9, v2 8, v3 9, v4 2, v5 5, v6 9, v7 5, v8 8, v9 6, v10 2, v11 2, v12 4, v13 3, v14 8, v15 8, v16 10, v17 10, v18 4, v19 3, v20 8, v21 4, v22 3, v23 3, v24 6, v25 4, v26 10, v27 4, v28 6, v29 4, v30 3, v31 8, v32 3, v33 10, v34 3, v35 4, v36 3, v37 9, v38 9, v39 8, v40 8, v41 8, v42 6, v43 2, v44 8, v45 5, v46 10, v47 3, v48 8, v49 5, v50 8, v51 9, v52 8, v53 10, v54 5, v55 10, v56 8, v57 9, v58 4, v59 6, v60 4/
PO(V)    processing time of vessel v             /v1 5, v2 9, v3 2, v4 6, v5 4, v6 2, v7 7, v8 9, v9 10, v10 8, v11 7, v12 8, v13 3, v14 8, v15 9, v16 5, v17 2, v18 9, v19 3, v20 5, v21 8, v22 2, v23 5, v24 4, v25 2, v26 8, v27 9, v28 6, v29 7, v30 9, v31 8, v32 2, v33 6, v34 4, v35 3, v36 4, v37 9, v38 4, v39 7, v40 10, v41 7, v42 2, v43 3, v44 2, v45 10, v46 6, v47 7, v48 6, v49 9, v50 4, v51 2, v52 6, v53 2, v54 3, v55 4, v56 8, v57 7, v58 4, v59 3, v60 6/
LEN(V)   length of vessel v                      /v1 3, v2 2, v3 1, v4 3, v5 1, v6 2, v7 2, v8 2, v9 2, v10 2, v11 1, v12 1, v13 1, v14 2, v15 2, v16 2, v17 1, v18 3, v19 1, v20 1, v21 1, v22 1, v23 2, v24 1, v25 2, v26 1, v27 3, v28 2, v29 2, v30 3, v31 3, v32 3, v33 2, v34 1, v35 3, v36 1, v37 3, v38 1, v39 1, v40 1, v41 1, v42 3, v43 2, v44 2, v45 2, v46 3, v47 1, v48 1, v49 2, v50 1, v51 3, v52 2, v53 2, v54 1, v55 1, v56 2, v57 2, v58 2, v59 2, v60 1/
T1(V)    expected time to arrival of vessel v    /v1 5, v2 23, v3 9, v4 23, v5 22, v6 27, v7 15, v8 16, v9 3, v10 27, v11 11, v12 17, v13 19, v14 28, v15 23, v16 13, v17 17, v18 10, v19 12, v20 10, v21 27, v22 15, v23 24, v24 7, v25 29, v26 16, v27 2, v28 26, v29 8, v30 20, v31 23, v32 7, v33 23, v34 3, v35 17, v36 17, v37 3, v38 12, v39 17, v40 26, v41 26, v42 13, v43 29, v44 19, v45 21, v46 24, v47 18, v48 18, v49 27, v50 12, v51 7, v52 21, v53 13, v54 24, v55 22, v56 7, v57 30, v58 28, v59 30, v60 20/
T2(V)    expected time to departure of vessel v  /v1 15, v2 41, v3 13, v4 35, v5 30, v6 31, v7 29, v8 34, v9 23, v10 43, v11 25, v12 33, v13 25, v14 44, v15 41, v16 23, v17 21, v18 28, v19 18, v20 20, v21 43, v22 19, v23 34, v24 15, v25 33, v26 32, v27 20, v28 38, v29 22, v30 38, v31 39, v32 11, v33 35, v34 11, v35 23, v36 25, v37 21, v38 20, v39 31, v40 46, v41 40, v42 17, v43 35, v44 23, v45 41, v46 36, v47 32, v48 30, v49 45, v50 20, v51 11, v52 33, v53 17, v54 30, v55 30, v56 23, v57 44, v58 36, v59 36, v60 32/
S(B)     available start time of berth b         /b1 7, b2 6, b3 2, b4 10, b5 14, b6 15, b7 17, b8 9, b9 5, b10 7, b11 8, b12 3, b13 6, b14 1, b15 1, b16 1, b17 7, b18 7, b19 1, b20 8, b21 6, b22 2, b23 8, b24 5, b25 7, b26 7, b27 10, b28 4, b29 9, b30 5/
E(B)     available end time of berth b           /b1 49, b2 40, b3 50, b4 43, b5 43, b6 49, b7 42, b8 43, b9 50, b10 50, b11 35, b12 35, b13 37, b14 43, b15 44, b16 41, b17 48, b18 41, b19 41, b20 41, b21 50, b22 50, b23 41, b24 40, b25 48, b26 44, b27 46, b28 44, b29 48, b30 41/;

TABLE
U(V,B)   latest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v2         41        40        41        41        41        41        41        41        41        41        35        35        37        41        41        41        41        41        41        41        41        41        41        40        41        41        41        41        41        41
v3         13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v4         35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35
v5         30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v6         31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31
v7         29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v8         34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34
v9         23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v10        43        40        43        43        43        43        42        43        43        43        35        35        37        43        43        41        43        41        41        41        43        43        41        40        43        43        43        43        43        41
v11        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v12        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v13        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v14        44        40        44        43        43        44        42        43        44        44        35        35        37        43        44        41        44        41        41        41        44        44        41        40        44        44        44        44        44        41
v15        41        40        41        41        41        41        41        41        41        41        35        35        37        41        41        41        41        41        41        41        41        41        41        40        41        41        41        41        41        41
v16        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v17        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v18        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v19        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v21        43        40        43        43        43        43        42        43        43        43        35        35        37        43        43        41        43        41        41        41        43        43        41        40        43        43        43        43        43        41
v22        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v23        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34        34
v24        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v25        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v26        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v27        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v28        38        38        38        38        38        38        38        38        38        38        35        35        37        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v29        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v30        38        38        38        38        38        38        38        38        38        38        35        35        37        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38        38
v31        39        39        39        39        39        39        39        39        39        39        35        35        37        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39        39
v32        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v33        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35
v34        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v35        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v36        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25        25
v37        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v38        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v39        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31        31
v40        46        40        46        43        43        46        42        43        46        46        35        35        37        43        44        41        46        41        41        41        46        46        41        40        46        44        46        44        46        41
v41        40        40        40        40        40        40        40        40        40        40        35        35        37        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40        40
v42        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v43        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35        35
v44        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v45        41        40        41        41        41        41        41        41        41        41        35        35        37        41        41        41        41        41        41        41        41        41        41        40        41        41        41        41        41        41
v46        36        36        36        36        36        36        36        36        36        36        35        35        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36
v47        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32
v48        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v49        45        40        45        43        43        45        42        43        45        45        35        35        37        43        44        41        45        41        41        41        45        45        41        40        45        44        45        44        45        41
v50        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v51        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v52        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33        33
v53        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v54        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v55        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v56        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v57        44        40        44        43        43        44        42        43        44        44        35        35        37        43        44        41        44        41        41        41        44        44        41        40        44        44        44        44        44        41
v58        36        36        36        36        36        36        36        36        36        36        35        35        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36
v59        36        36        36        36        36        36        36        36        36        36        35        35        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36        36
v60        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32        32;

TABLE
L(V,B)   earliest time the vessel v can be assigned to berth b
           b1        b2        b3        b4        b5        b6        b7        b8        b9        b10       b11       b12       b13       b14       b15       b16       b17       b18       b19       b20       b21       b22       b23       b24       b25       b26       b27       b28       b29       b30
v1         7         6         5         10        14        15        17        9         5         7         8         5         6         5         5         5         7         7         5         8         6         5         8         5         7         7         10        5         9         5
v2         23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v3         9         9         9         10        14        15        17        9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         9         10        9         9         9
v4         23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v5         22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v6         27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v7         15        15        15        15        15        15        17        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v8         16        16        16        16        16        16        17        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v9         7         6         3         10        14        15        17        9         5         7         8         3         6         3         3         3         7         7         3         8         6         3         8         5         7         7         10        4         9         5
v10        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v11        11        11        11        11        14        15        17        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11        11
v12        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v13        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v14        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v15        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v16        13        13        13        13        14        15        17        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v18        10        10        10        10        14        15        17        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v19        12        12        12        12        14        15        17        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v20        10        10        10        10        14        15        17        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10        10
v21        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v22        15        15        15        15        15        15        17        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15        15
v23        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v24        7         7         7         10        14        15        17        9         7         7         8         7         7         7         7         7         7         7         7         8         7         7         8         7         7         7         10        7         9         7
v25        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v26        16        16        16        16        16        16        17        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16        16
v27        7         6         2         10        14        15        17        9         5         7         8         3         6         2         2         2         7         7         2         8         6         2         8         5         7         7         10        4         9         5
v28        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v29        8         8         8         10        14        15        17        9         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         8         10        8         9         8
v30        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20
v31        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v32        7         7         7         10        14        15        17        9         7         7         8         7         7         7         7         7         7         7         7         8         7         7         8         7         7         7         10        7         9         7
v33        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23        23
v34        7         6         3         10        14        15        17        9         5         7         8         3         6         3         3         3         7         7         3         8         6         3         8         5         7         7         10        4         9         5
v35        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v36        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v37        7         6         3         10        14        15        17        9         5         7         8         3         6         3         3         3         7         7         3         8         6         3         8         5         7         7         10        4         9         5
v38        12        12        12        12        14        15        17        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v39        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17        17
v40        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v41        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26        26
v42        13        13        13        13        14        15        17        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v43        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29        29
v44        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19        19
v45        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v46        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v47        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v48        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18        18
v49        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27        27
v50        12        12        12        12        14        15        17        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12        12
v51        7         7         7         10        14        15        17        9         7         7         8         7         7         7         7         7         7         7         7         8         7         7         8         7         7         7         10        7         9         7
v52        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21        21
v53        13        13        13        13        14        15        17        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13        13
v54        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24        24
v55        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22        22
v56        7         7         7         10        14        15        17        9         7         7         8         7         7         7         7         7         7         7         7         8         7         7         8         7         7         7         10        7         9         7
v57        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v58        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28        28
v59        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30        30
v60        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20        20;

BINARY VARIABLES
X(V,B,T);
VARIABLES
Z        objective function value;
EQUATIONS
CONST1
CONST2
CONST3
CONST4
CONST5
OBJECTIVE;

CONST1(V)..                                                                                                                                      SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), X(V,B,T))) =e= LEN(V);
CONST2(B,T) $ (ORD(T)>=S(B) AND ORD(T)<=(E(B)-1))..                                                                                              SUM( V, SUM( TO $ (ORD(TO)>=T1(V) AND ORD(TO)>=S(B) AND ORD(TO)>=(ORD(T)+1-PO(V)) AND ORD(TO)<=ORD(T) AND ORD(TO)<=(T2(V)-PO(V)) AND ORD(TO)<=(E(B)-PO(V))), X(V,B,TO))) =l= 1;
CONST3(V,T,B1,B2) $ (LEN(V)>=2 AND ORD(T)>=L(V,B1) AND ORD(T)<=(U(V,B1)-PO(V)) AND ORD(T)>=L(V,B2) AND ORD(T)<=(U(V,B2)-PO(V)))..                (X(V,B1,T) + X(V,B2,T) - 2)*999 + (ORD(B1) - ORD(B2)) =l= LEN(V) - 1;
CONST4(V,B1,B2,TT1,TT2) $ (LEN(V)>=2 AND ORD(TT1)>=L(V,B1) AND ORD(TT1)<=(U(V,B1)-PO(V)) AND ORD(TT2)>=L(V,B2) AND ORD(TT2)<=(U(V,B2)-PO(V)))..  (X(V,B1,TT1) + X(V,B2,TT2) - 2)*999 + (ORD(TT1) - ORD(TT2)) =l= 0;
CONST5(V,CB,CB2,T) $ (LEN(V)>=2 AND ORD(T)>=L(V,CB) AND ORD(T)<=(U(V,CB)-PO(V)) AND ORD(CB)=ORD(CB2))..                                          (X(V,CB,T)+X(V,CB2,T)) =l= 1;
OBJECTIVE..                                                                                                                                      SUM( V, SUM( B, SUM( T $ (ORD(T)>=L(V,B) AND ORD(T)<=(U(V,B)-PO(V))), P(V)*(X(V,B,T)/LEN(V))*(ORD(T) + PO(V) - T1(V))))) =e= Z;

option optCR = 0;
MODEL                    case1  /all/;
SOLVE                    case1 using MIP minimizing Z;
DISPLAY                  X.l;

